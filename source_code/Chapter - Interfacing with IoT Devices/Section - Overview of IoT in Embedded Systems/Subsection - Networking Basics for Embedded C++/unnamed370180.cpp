// Suggested structure
int set_nonblocking(int sockfd) {
// Your flags manipulation here
}