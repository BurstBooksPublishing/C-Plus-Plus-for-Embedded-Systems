// Define the ISR for DMA error
extern "C" void DMA1_Channel1_IRQHandler() {
    if (DMA1->ISR & DMA_ISR_TEIF1) {
        // Handle transfer error
        DMA1->IFCR |= DMA_IFCR_CTEIF1;  // Clear the transfer error flag
    }
}